# Internationalization (i18n) in USSD Emulator

The USSD Emulator now supports multiple languages to make it accessible to users worldwide, particularly in regions where USSD services are commonly used.

## Supported Languages

The app currently supports the following 6 languages:

1. **English (en)** - Default language
2. **Swahili (sw)** - East Africa
3. **French (fr)** - West/Central Africa
4. **Amharic (am)** - Ethiopia
5. **Hausa (ha)** - Nigeria/West Africa
6. **Arabic (ar)** - North Africa/Middle East (with RTL support)

## Features

### Language Switching
- Users can change the app language dynamically without restarting
- Language preference is saved persistently using SharedPreferences
- Access language settings through the accessibility settings screen

### RTL Support
- Full Right-to-Left (RTL) text direction support for Arabic
- Automatic layout mirroring and text alignment
- Proper directional support for all UI components

### Comprehensive Localization
- All user-facing text strings are localized
- Form labels, buttons, error messages, and navigation elements
- Status messages and user prompts
- Accessibility labels and hints

## How to Use

### Changing Language
1. Open the app
2. Navigate to Settings (accessibility icon in top-right)
3. Look for the "Language" section
4. Tap on the current language to open language selection dialog
5. Choose your preferred language
6. The app will immediately switch to the new language

### For Developers

#### Adding New Languages
1. Create a new ARB file in `lib/l10n/` (e.g., `app_es.arb` for Spanish)
2. Copy the structure from `app_en.arb` and translate all strings
3. Add the locale to `LanguageProvider.supportedLocales`
4. Add the language name to `LanguageProvider.languageNames`
5. Run `flutter gen-l10n` to generate the localization classes

#### Adding New Strings
1. Add the new string to `lib/l10n/app_en.arb` with proper documentation
2. Add translations to all other ARB files
3. Update the abstract `AppLocalizations` class if needed
4. Run `flutter gen-l10n` to regenerate classes
5. Use `AppLocalizations.of(context).yourNewString` in your widgets

#### File Structure
```
lib/l10n/
├── app_en.arb          # English (template)
├── app_sw.arb          # Swahili
├── app_fr.arb          # French
├── app_am.arb          # Amharic
├── app_ha.arb          # Hausa
├── app_ar.arb          # Arabic
└── generated/          # Auto-generated files
    ├── app_localizations.dart
    ├── app_localizations_en.dart
    ├── app_localizations_sw.dart
    ├── app_localizations_fr.dart
    ├── app_localizations_am.dart
    ├── app_localizations_ha.dart
    └── app_localizations_ar.dart
```

## Technical Implementation

### Dependencies
- `flutter_localizations` - Flutter's internationalization support
- `intl` - Internationalization utilities
- `shared_preferences` - Persistent language storage

### Key Components
- `LanguageProvider` - State management for current language
- `AppLocalizations` - Generated localization classes
- ARB files - Translation resources
- `l10n.yaml` - Configuration for code generation

### RTL Support
The app automatically detects Arabic language and switches to RTL mode:
- Text direction changes to right-to-left
- Layout mirroring for proper visual alignment
- Icon and navigation adjustments

### Accessibility Integration
- Language selection is integrated with accessibility settings
- Screen reader announcements in the selected language
- Proper semantic labels in all languages
- Keyboard navigation support maintained across languages

## Testing

Run the localization tests to verify all translations:
```bash
flutter test test/app_localizations_test.dart
flutter test test/language_provider_test.dart
```

## Future Enhancements

Potential improvements for the i18n system:
- Additional regional language variants
- Automatic language detection based on device locale
- Pluralization support for count-based messages
- Date and number formatting per locale
- Voice commands in local languages
- Community translation contributions